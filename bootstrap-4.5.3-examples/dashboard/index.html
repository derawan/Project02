<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.1.1">
    <title>Dashboard Template Â· Bootstrap</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/dashboard/">

    <!-- Bootstrap core CSS -->
<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">
  </head>
  <body>
    <!-- MY COMMENT CTRL+K_U   CTRL+/ -->
    <!-- TOP HEADER -->
    <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">Company name</a>
        <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
        <ul class="navbar-nav px-3">
          <li class="nav-item text-nowrap">
            <a class="nav-link" href="#">Sign out</a>
          </li>
        </ul>
    </nav>
    <!-- TOP HEADER -->

    <!-- MAIN PART -->
  <div class="container-fluid">
    <div class="row">
      <!-- SIDEBAR -->
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
        <div class="sidebar-sticky pt-3">
          <ul class="nav flex-column  mymenu_container">
            <!-- <li class="nav-item">
              <a class="nav-link " href="#">
                <span data-feather="home"></span>
                Dashboard 
              </a>
            </li>
            <li class="nav-item ">
              <a class="nav-link active" href="#">
                <span data-feather="file"></span>
                Orders
              </a>
            </li> -->
            
          </ul>

          <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
            <span>Saved reports</span>
            <a class="d-flex align-items-center text-muted" href="#" aria-label="Add a new report">
              <span data-feather="plus-circle"></span>
            </a>
          </h6>
          <ul class="nav flex-column mb-2 myreport">
            <!-- <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="file-text"></span>
                Current month
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="file-text"></span>
                Last quarter
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="file-text"></span>
                Social engagement
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">
                <span data-feather="file-text"></span>
                Year-end sale
              </a>
            </li> -->
          </ul>
        </div>
      </nav>

      <!-- MAIN CONTENT -->
      <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
        <!-- MAIN TITLE - TOOLBAR -->
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2 thetitle">Dashboard</h1>
          <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
              <button type="button" class="btn btn-sm btn-outline-secondary">Share</button>
              <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
            </div>
            <button type="button" class="btn btn-sm btn-outline-secondary dropdown-toggle">
              <span data-feather="calendar"></span>
              This week
            </button>
          </div>
        </div>

        
        <!-- MAIN BODY -->
        <h2>Section title</h2>
        <div class="">
          <div class="row mycontainer">
              
          </div>
          <!-- <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th>#</th>
                <th>Header</th>
                <th>Header</th>
                <th>Header</th>
                <th>Header</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1,001</td>
                <td>Lorem</td>
                <td>ipsum</td>
                <td>dolor</td>
                <td>sit</td>
              </tr>
              <tr>
                <td>1,002</td>
                <td>amet</td>
                <td>consectetur</td>
                <td>adipiscing</td>
                <td>elit</td>
              </tr>
              <tr>
                <td>1,003</td>
                <td>Integer</td>
                <td>nec</td>
                <td>odio</td>
                <td>Praesent</td>
              </tr>
              <tr>
                <td>1,003</td>
                <td>libero</td>
                <td>Sed</td>
                <td>cursus</td>
                <td>ante</td>
              </tr>
              <tr>
                <td>1,004</td>
                <td>dapibus</td>
                <td>diam</td>
                <td>Sed</td>
                <td>nisi</td>
              </tr>
              <tr>
                <td>1,005</td>
                <td>Nulla</td>
                <td>quis</td>
                <td>sem</td>
                <td>at</td>
              </tr>
              <tr>
                <td>1,006</td>
                <td>nibh</td>
                <td>elementum</td>
                <td>imperdiet</td>
                <td>Duis</td>
              </tr>
              <tr>
                <td>1,007</td>
                <td>sagittis</td>
                <td>ipsum</td>
                <td>Praesent</td>
                <td>mauris</td>
              </tr>
              <tr>
                <td>1,008</td>
                <td>Fusce</td>
                <td>nec</td>
                <td>tellus</td>
                <td>sed</td>
              </tr>
              <tr>
                <td>1,009</td>
                <td>augue</td>
                <td>semper</td>
                <td>porta</td>
                <td>Mauris</td>
              </tr>
              <tr>
                <td>1,010</td>
                <td>massa</td>
                <td>Vestibulum</td>
                <td>lacinia</td>
                <td>arcu</td>
              </tr>
              <tr>
                <td>1,011</td>
                <td>eget</td>
                <td>nulla</td>
                <td>Class</td>
                <td>aptent</td>
              </tr>
              <tr>
                <td>1,012</td>
                <td>taciti</td>
                <td>sociosqu</td>
                <td>ad</td>
                <td>litora</td>
              </tr>
              <tr>
                <td>1,013</td>
                <td>torquent</td>
                <td>per</td>
                <td>conubia</td>
                <td>nostra</td>
              </tr>
              <tr>
                <td>1,014</td>
                <td>per</td>
                <td>inceptos</td>
                <td>himenaeos</td>
                <td>Curabitur</td>
              </tr>
              <tr>
                <td>1,015</td>
                <td>sodales</td>
                <td>ligula</td>
                <td>in</td>
                <td>libero</td>
              </tr>
            </tbody>
          </table> -->
        </div>
      </main>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>


  <script>
        // Menu  = [
        // { 
        //     "title" : "Order",
        //     "href"  : "something.html"
        //   },
        //   { 
        //     "title" : "Daftar Order",
        //     "href"  : "something2.html"
        //   },
        //   { 
        //     "title" : "Find Order",
        //     "href"  : "something3.html"
        //   },
          
        // ];

        // Report  = [
        // { 
        //     "title" : "Laporan 1",
        //     "href"  : "something.html"
        //   },
        //   { 
        //     "title" : "Laporan 2",
        //     "href"  : "something2.html"
        //   },
        //   { 
        //     "title" : "Laporan 3",
        //     "href"  : "something3.html"
        //   },
        //   { 
        //     "title" : "Laporan 4",
        //     "href"  : "something3.html"
        //   },
        //   { 
        //     "title" : "Laporan 5",
        //     "href"  : "something3.html"
        //   },
          
        // ];

        //mymenu_container
        function BuildMenu(){
            Menu = [];
            parameter = {
               url:'./api/getmenu.json',
               success:function(data) {
                  Menu = data;
                  for(indeks in Menu)
                  {
                    menu_li_el = $('<li class="nav-item"></li>');
                    menu_link_el = $(`<a class="nav-link " href="${Menu[indeks].href}"></a>`);
                    menu_data_el = $('<span data-feather="home"></span>');
                    menu_data_el.text(Menu[indeks].title);
                    menu_data_el.appendTo(menu_link_el);
                    menu_link_el.appendTo(menu_li_el);

                    menu_li_el.appendTo($('.mymenu_container'));
                }
               }
            }

            $.ajax(parameter);
          
          //   for(indeks in Menu)
          //   {
          //     menu_li_el = $('<li class="nav-item"></li>');
          //     menu_link_el = $(`<a class="nav-link " href="${Menu[indeks].href}"></a>`);
          //     menu_data_el = $('<span data-feather="home"></span>');
          //     menu_data_el.text(Menu[indeks].title);
          //     menu_data_el.appendTo(menu_link_el);
          //     menu_link_el.appendTo(menu_li_el);

          //     menu_li_el.appendTo($('.mymenu_container'));
          // }
          
        }

        function BuildReport()
        {
          Report = [];
            parameter = {
               url:'./api/getreport.json',
               success:function(data) {
                  Report = data;
                  for(indeks in Report)
                  {
                    menu_li_el = $('<li class="nav-item"></li>');
                    menu_link_el = $(`<a class="nav-link " href="${Report[indeks].href}"></a>`);
                    menu_data_el = $('<span data-feather="file-text"></span>');
                    menu_data_el.text(Report[indeks].title);
                    menu_data_el.appendTo(menu_link_el);
                    menu_link_el.appendTo(menu_li_el);

                    menu_li_el.appendTo($('.myreport'));
                  } 
               }
            }

            $.ajax(parameter);

          
        }


        Produk = [];

        function TambahData() {
            var id = $('#tambah_id').val();
            var name = $('#tambah_name').val();
            var new_item = {
                kode : id,
                nama_produk : name
            }
            Produk.push(new_item);
            LoadDaftarProduk();
        }

        function EditData() {
          var id = $('#tambah_id').val();
            var name = $('#tambah_name').val();
            var new_item = {
                kode : id,
                nama_produk : name
            }
            Produk[data_indeks_dipilih] = new_item;
            LoadDaftarProduk();
            console.log(id, name)
        }

        function AssignButton()
        {
            $('.btn-tambah').on('click', TambahData);
            $('.btn-edit').on('click', EditData);
        }

        function LoadTambahProduk()
        {
            $('.thetitle').text('Tambah Produk')
            parameter = {
               url:'./api/form_tambah.html',
               success:function(data) {
                  // alert(data);
                  //$(data).appendTo($('.mycontainer'));
                  $('.mycontainer').html(data);
                  AssignButton();
               }
            }

            $.ajax(parameter);
          
        }

        function LoadEditProduk()
        {
          $('.thetitle').text('Edit Produk')
            parameter = {
               url:'./api/form_edit.html',
               success:function(data) {
                  // alert(data);
                  //$(data).appendTo($('.mycontainer'));
                  $('.mycontainer').html(data);

                  $('#tambah_id').val(Produk[data_indeks_dipilih].kode);
                  $('#tambah_name').val(Produk[data_indeks_dipilih].nama_produk);
                  AssignButton();
               }
            }

            $.ajax(parameter);
          
        }

        function LoadDaftarProduk()
        {
          $('.thetitle').text('Daftar Produk')
            parameter = {
               url:'./api/daftar.html',
               success:function(data) {
                  // alert(data);
                  //$(data).appendTo($('.mycontainer'));
                  $('.mycontainer').html(data);
                  $('.maubaru').on('click',LoadTambahProduk)
                  for (a in Produk)
                  {
                    var tr = $(`<tr data-indeks="${a}" data-item="${JSON.stringify(Produk[a])}"></tr>`);
                    var td1 = $(`<td>${Produk[a].kode}</td>`)
                    var td2 = $(`<td>${Produk[a].nama_produk}</td>`)
                    var td3 = $(`<td></td>`)
                    var editbtnel = $('<button>Edit</button>');
                    var deletebtnel = $('<button>Delete</button>');

                    editbtnel.appendTo(td3);
                    deletebtnel.appendTo(td3);

                    editbtnel.on('click', (e)=>{
                          var tr = $(e.target)
                                .parent()
                                .parent();
                          var selected_index = tr.attr('data-indeks');
                          data_indeks_dipilih = selected_index;
                          LoadEditProduk();
                    })

                    deletebtnel.on('click', (e)=>{
                          var tr = $(e.target)
                                .parent()
                                .parent();
                          var selected_index = tr.attr('data-indeks');
                          
                          tr.remove();
                          var new_array = [];
                          for(a in Produk)
                          {
                              if (a != selected_index)
                              {
                                  new_array.push(Produk[a]);
                              }
                          }

                          Produk = new_array;
                    })

                    td1.appendTo(tr);
                    td2.appendTo(tr);
                    td3.appendTo(tr);

                    tr.appendTo($('.datalist'));

                  }

               }
            }

            $.ajax(parameter);
          
        }

        initFunction = function()
        {
              
            // make li element for menu
            // menu_li_el = $('<li class="nav-item"></li>');
            // menu_link_el = $('<a class="nav-link " href="#"></a>');
            // menu_data_el = $('<span data-feather="home"></span>');
            // menu_data_el.text('hallo bro');
            // menu_data_el.appendTo(menu_link_el);
            // menu_link_el.appendTo(menu_li_el);

            // menu_li_el.appendTo($('.mymenu_container'));
            BuildMenu();
            BuildReport();

            LoadTambahProduk();
            
          

        }

        $(initFunction)
  </script>
</body>
</html>
